<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supply Chain Blockchain</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Blockchain Supply Chain</h1>
    <div>
        <button id="addBlock">Add Block</button>
        <button id="validateChain">Validate Chain</button>
    </div>
    <div id="output"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="blockchain.js"></script>
    <script src="script.js"></script>
</body>

    <div>
    <h2>Company Verification</h2>
    <label for="companyData">Company Data:</label>
    <input type="text" id="companyData">
    <label for="privateKey">Private Key:</label>
    <input type="password" id="privateKey">
    <button id="verifyCompany">Verify</button>
    <div id="verificationResult"></div>
</div>

<script>
    document.getElementById('verifyCompany').addEventListener('click', () => {
        const data = document.getElementById('companyData').value;
        const privateKey = document.getElementById('privateKey').value;
        const signature = CompanyVerification.generateSignature(data, privateKey);
        const isValid = CompanyVerification.verifySignature(data, signature, privateKey);

        document.getElementById('verificationResult').textContent = 
            isValid ? "Company is valid!" : "Invalid company verification.";
    });
</script>

    <div>
    <h2>Company Verification</h2>
    <label for="companyData">Data to Verify:</label>
    <input type="text" id="companyData" placeholder="Enter company data">
    <label for="companySelect">Select Company:</label>
    <select id="companySelect">
        <option value="Company A">Company A</option>
        <option value="Company B">Company B</option>
    </select>
    <button id="signData">Sign Data</button>
    <button id="verifyData">Verify Data</button>
    <div id="verificationResult"></div>
</div>

    <script>
    document.getElementById('signData').addEventListener('click', () => {
        const data = document.getElementById('companyData').value;
        const company = document.getElementById('companySelect').value;
        const privateKey = demoKeys.find(key => key.company === company).privateKey;

        if (data && privateKey) {
            const signature = CompanyVerification.signData(data, privateKey);
            alert(`Signature: ${signature}`);
        } else {
            alert("Missing data or company selection.");
        }
    });

document.getElementById('verifyData').addEventListener('click', () => {
    const data = document.getElementById('companyData').value;
    const company = document.getElementById('companySelect').value;
    const publicKey = demoKeys.find(key => key.company === company).publicKey;

    const signature = prompt("Enter signature for verification:");
    const resultDiv = document.getElementById('verificationResult');

    if (data && publicKey && signature) {
        const isValid = CompanyVerification.verifySignature(data, signature, publicKey);
        resultDiv.textContent = isValid ? "Verification successful!" : "Verification failed!";
        resultDiv.className = isValid ? "success" : "failure";
    } else {
        alert("Missing data, signature, or company selection.");
        resultDiv.textContent = "";
        resultDiv.className = "";
    }
});

</script>


</html>

